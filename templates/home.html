<!doctype html>
<html lang="en">
<head>
    <title>Home</title>
</head>
<body>
    <h1>Welcome to the Budget Tracker</h1>

    <h2>Budget Form</h2>
    <form method="POST" action="{{ url_for('home') }}">
        {{ form.hidden_tag() }}
        
        <h2>Income</h2>
        <div>
            {{ form.income.label }}<br>
            {{ form.income(size=32) }}<br>
            {% for error in form.income.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        
        <h2>Fixed Expenses</h2>
        
        <h3>Housing and Utilities</h3>
        <div>
            {{ form.housing_utilities.label }}<br>
            {{ form.housing_utilities(size=32) }}<br>
            {% for error in form.housing_utilities.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        
        <h3>Communication</h3>
        <div>
            {{ form.communication.label }}<br>
            {{ form.communication(size=32) }}<br>
            {% for error in form.communication.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        
        <h3>Transportation</h3>
        <div>
            {{ form.transportation.label }}<br>
            {{ form.transportation(size=32) }}<br>
            {% for error in form.transportation.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        
        <h3>Education</h3>
        <div>
            {{ form.education.label }}<br>
            {{ form.education(size=32) }}<br>
            {% for error in form.education.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        
        <h3>Savings</h3>
        <div>
            {{ form.savings.label }}<br>
            {{ form.savings(size=32) }}<br>
            {% for error in form.savings.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        
        <h2>Variable Expenses</h2>
        
        <h3>Food</h3>
        <div>
            {{ form.food.label }}<br>
            {{ form.food(size=32) }}<br>
            {% for error in form.food.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        
        <h3>Entertainment</h3>
        <div>
            {{ form.entertainment.label }}<br>
            {{ form.entertainment(size=32) }}<br>
            {% for error in form.entertainment.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        
        <h3>Health and Personal Care</h3>
        <div>
            {{ form.health_personal_care.label }}<br>
            {{ form.health_personal_care(size=32) }}<br>
            {% for error in form.health_personal_care.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        
        <h3>Clothing and Laundry</h3>
        <div>
            {{ form.clothing_laundry.label }}<br>
            {{ form.clothing_laundry(size=32) }}<br>
            {% for error in form.clothing_laundry.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        
        <h3>Debt Payments</h3>
        <div>
            {{ form.debt_payments.label }}<br>
            {{ form.debt_payments(size=32) }}<br>
            {% for error in form.debt_payments.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        
        <div>
            <button type="submit">Submit</button>
        </div>
    </form>

    {% if income %}
    <h2>Budget Summary</h2>
    <p>Monthly Income: ${{ income }}</p>
    <h2>Actual Spending</h2>
    <ul>
        <li>Needs: ${{ expenses['Needs'] }} ({{ percentages['Needs'] }}%)</li>
        <li>Wants: ${{ expenses['Wants'] }} ({{ percentages['Wants'] }}%)</li>
        <li>Savings or Debt Repayment: ${{ expenses['Savings or Debt Repayment'] }} ({{ percentages['Savings or Debt Repayment'] }}%)</li>
    </ul>
    <h2>Ideal Spending (50/30/20 Rule)</h2>
    <ul>
        <li>Needs: ${{ ideal_amounts['Needs'] }}</li>
        <li>Wants: ${{ ideal_amounts['Wants'] }}</li>
        <li>Savings or Debt Repayment: ${{ ideal_amounts['Savings or Debt Repayment'] }}</li>
    </ul>
    {% endif %}
</body>
</html>
